<!doctype html>
<html>
<head>
<link rel="stylesheet" href="css/angular-csp.css">
<link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.css">
<link rel="stylesheet" href="css/style.css">
<script src="js/angular.js"></script>
<script src="js/app.js"></script>
</head>
<body>
<div ng-app="widget" class="ng-cloak container" ng-controller="widgetController">
	<div class="row">
		<div class="col-lg-6">
			<h3> Asynchronous server race </h3>
			<h5 small style="color:gray">Test which server responds to 100 requests from your address in smallest time.</h5>
		</div>
	</div>
	<div class="row controls">
		<div class="col-lg-6">
			<input class="form-control" ng-model="racerAddr"/>
		</div>
		<div class="col-lg-3">	
			<button class="btn btn-success" id="start" ng-click="startRace()">start</button>
			<button class="btn btn-default" id="stop" ng-click="stopRace()">stop</button>
			<button class="btn btn-default" id="add" ng-click="add()">add</button>
		</div>
		<div class="col-lg-3" style="font-size:80%;">
			<div><b> Status:</b><i> {{ status }}</i></div>
			<div><b> Number of racers: </b><span><i>{{ race.numRacers }}</i></span></div>
		</div>
	</div>

	<div class="race">
	<div ng-repeat="racer in race.racers" id="{{ racer.id }}" class="row">
		<div class="col-lg-2">
			<div><b><span ng-bind="racer.address"></span></b></div>
		</div>
		<div class="col-lg-2">
				<div><span ng-bind="racer.ip"></span></div>
		</div>
		<div class="col-lg-6">
			<racerprogress racer="racer"></racerprogress>
			
		</div>
		<div class="col-lg-1">
			<div ng-bind="racer.totalTime+' ms'"></div>
		</div>
		<div class="col-lg-1">
			<button class="btn btn-default" remove ng-click="remove(racer)">remove</button>
		</div>
	</div>
	</div>
</div> 
</body>
</html>